{% extends "base.html" %}
{% block content %}
  {% for s in sections %}
    {% if s.type == "features" %}
      <div class="grid cards">
        {% for it in s.items %}
          <div class="card">
            <h3>{{ it.title }}</h3>
            <p>{{ it.text }}</p>
            {% if it.href %}<p><a href="{{ it.href }}">Learn more →</a></p>{% endif %}
          </div>
        {% endfor %}
      </div>
    {% elif s.type == "latest_blogs" %}
      <h2>{{ s.heading or "Latest posts" }}</h2>
      <div class="grid cards">
        {% for p in posts[:(s.limit or 3)] %}
          <div class="card">
            <h3><a href="{{ p.href }}">{{ p.title }}</a></h3>
            <div class="small">{{ p.date or "" }} · {{ p.author or "" }}</div>
          </div>
        {% else %}
          <div class="card small">No posts yet.</div>
        {% endfor %}
      </div>
    {% elif s.type == "people_teaser" %}
      <h2>{{ s.heading or "People" }}</h2>
      <div class="grid cards">
        {% for person in people[:(s.limit or 4)] %}
          <div class="card">
            {% if person.avatar %}<img class="avatar" src="{{ person.avatar }}" alt="{{ person.name }}"/>{% endif %}
            <h3><a href="{{ person.href }}">{{ person.name }}</a></h3>
          </div>
        {% endfor %}
      </div>
    {% elif s.type == "markdown" %}
      <h2>{{ s.heading }}</h2>
      <div class="card">{{ s.body_md }}</div>
    {% elif s.type == "gallery" %}
      <h2>{{ s.heading or "Gallery" }}</h2>
      <div class="grid">
        {% for img in s.images %}
          <div class="card"><img src="{{ img }}" alt=""/></div>
        {% endfor %}
      </div>
    {% endif %}
  {% endfor %}
{% endblock %}
