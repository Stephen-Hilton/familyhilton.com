# Prompt Summary
Please create a python engine that, when run, assembles a series of configuration files, assets, and templates and configuration files within a project root directory, to produce a beautiful yet simple static website, which can run as a github pages site. 

# Metadata Structure

All pages in the root/pages/ folder have three components:
- **page.html**: this is the final webpage output, generated by the python engine.
- **page.yaml**: this defines w


# File / Folder Structure

The folder structure drives how and where the python engine will build the static webpage. Under the root/ folder there is the pages/ folder and content/ folder, as well as the entry point index.html file. 

### Folder Structure Example

Here is and example folder structure: 

```text
root/
├── index.html
├── pages/
│   ├── about.html
│   ├── sitemap.html
│   ├── travelmap.html
│   ├── blogs.html
│   ├── blogs/
│   │   └── 2025
│   │       ├── 08
│   │       │   ├── My-Blog-Title.html
│   │       │   └── How-to-Prompt-a-New-App.html
│   │       └── 09
│   │           └── A-New-Day-A-New-Blog.html
│   └── people.html
│       └── people/
│           ├── Stephen.html
│           ├── Joy.html
│           ├── Tate.html
│           └── Quinn.html
└── content/
    ├── _global/
    │   ├── global.yaml
    │   ├── banner.yaml
    │   ├── footer.yaml
    │   ├── left_nav.yaml
    │   ├── css/
    │   │   └── *.css
    │   ├── javascript/
    │   │    └── *.js
    │   └── templates/
    │      └── *
    ├── _images/
    │   ├── banner.png
    │   ├── favicon.png
    │   ├── logo.png
    │   ├── stephen.png
    │   ├── stephen_avatar.png
    │   ├── joy.png
    │   ├── tate.png
    │   └── quinn.png
    ├── index.yaml
    ├── about.yaml
    ├── travelmap.yaml
    ├── sitemap.yaml
    ├── blogs.yaml
    ├── blogs/
    │   └── 2025
    │       ├── 08
    │       │   ├── Author-Name--My-Blog-Title.md
    │       │   └── Author-Name--How-to-Prompt-a-New-App.md
    │       └── 09
    │           └── Author-Name--A-New-Day-A-New-Blog.md
    ├── people.yaml
    ├── people/
    │   ├── Stephen.md
    │   ├── Joy.md
    │   ├── Tate.md
    │   └── Quinn.md
    ├── pets.yaml
    └── pets/
        ├── Luna.md
        ├── Sunny.md
        └── Zelda.md
```


### Folder: pages/

This folder contains all files that are OUTPUT from the python engine.  All files should be html here, and should not be modified by the user, since changes will be overridden the next time the python engine executes.  Some content can be referenced in the /content/ folder.  For example, all images on the site should be stored in the `/root/content/_images/` folder, and only referenced in the /pages/ html files. 

The number and location of html files in the /pages/ folder should mirror the yaml files in the /content/ folder.  The ONLY exception to this is the `/root/content/index.yaml` file, which should be used to generate the `/root/index.html` file.

The `/root/index.html` and all `/root/pages/*.html` pages should be silently replaced with new content when the python engine runs. 


### Folder: content/

The content/ folder contains all source configuration and content required to build the final html pages. The differnt types of file to expect:

- yaml: the main configuration file that defines the page name, author, date, layout, content by section name, etc.  Each `/root/content/*.yaml` file will ultimately result in a `/root/pages/*.html` file.  For example, `/root/content/blogs.yaml` page will contain configuration and content for creating `/root/pages/blogs.html`.
- subfolder: if there is a subfolder with the same name as a yaml file, the engine should iterate through the subfolder looking for any *.md files, turn those .md files into .html files. For example, if there is a `/root/content/blogs.yaml` and  `/root/content/blogs/` subfolder, the python engine should iterate thru `/root/content/blogs/*.md` and turn each .md file into an .html page of the same name, under `/root/pages/blogs/*.md`. If there are year/month folders, honor those on the `/root/pages/blogs/*.html` side as well. The process should also add an index to the blogs.html page, so that users can scroll thru all .md files available, and link to them.  
- markdown (md):  as mentioned above, markdown files will be used for things like blogs, profile pages, and other pages where the number and content will grow over time.  The configuration of the .md html page structure will be stored in the parent page (i.e. `/root/content/blogs.yaml`) instead of in the .md page itself - the .md page is just content.  The Python execution engine should simply translate the .md page into a similarly structured .html file.  As explained above, the parent .yaml file will also contain configuration settings for how to display all child md files, when everything is processed into html files.  Please store any requied javascript files in `/root/content/global/javascript/*.js`

There are two special folders, both starting with an underscore:

- _global/ : the content in this subfolder are used for ALL pages in the website, defining global settings for all other pages.
    - global.yaml defines global site information like the title, favicon, link to the master CSS file, etc.  
    - banner.yaml defines site-wide persistent header/banner information, such as logos, links to page sections, icons, socials, links to CSS, etc.  If the file is missing, omit the section entirely.
    - footer.yaml defines site-wide persistent footer information, such as footer links, icons, socials, links to CSS, etc.  If the file is missing, omit the section entirely.
    - top_nav.yaml defines site-wide persistent top navigation bar information, listing the label / URL, size, font, etc. and links to CSS.  If the file is missing, omit the section entirely.
    - left_nav.yaml defines site-wide persistent left-side navigation panel information, listing the label / URL, width, font size, etc., and links to CSS.  If the file is missing, omit the section entirely.
    - right_nav.yaml defines site-wide persistent right-side navigation panel information, listing the label / URL, width, font size, etc., and links to CSS.  If the file is missing, omit the section entirely.
- _images/ : this contains images that can be referenced in other pages, by placing the image name in double-curly brackets.  For example, I could type in a blog post the markdown:  `[stephen]({{stephen.png}})` and the python engine would first replace {{stephen.png}} with the relative path to the image in the /_image/ folder, so the image would be accessible from the blog post.  i.e., if the blog resides in the file `/root/content/blogs/2025-08-01--my_blog_post.md`, the relative path to the image might be `../_images/stephen.png`.  OR if easier and working directory remains /root/, you could simply reference `/root/content/_images/stephen.png`.  Please use whatever approach is best practice. 

# YAML Page Format

Please see the attached sample yaml files provided along with this document. 


# Expected Execution Path

Below are the steps I'd expect the python execution engine to take when run.  If there are files that are missing, please create them as needed, in the correct location.

1) Validate that all files are well formed and generate any missing files with some best-guess templates and starter content, so the user knows how to start.  Be sure include any global navigation elements (like top banners, left navs, footers, etc.) in the template for all pages.
2) Remove all files in the `/root/pages/` folder and the `/root/index.html` file. Don't worry about backups, this will be version-controlled in github.
3) Iterate through all yaml files found in `/root/content/` and generate those pages, including any indexes for subfolders (for example, build html for `/root/content/blogs.yaml` and translate all `/root/content/blogs/*.md` into html). All output .html should be saved to `/root/pages/*` 
4) Make sure the `/root/content/index.html` is built and placed in it's special place at `/root/index.html`.
5) Run through all links to pages and images, and make sure they all resolve to some valid location, to ensure no broken links. 
6) If there is a sitemap.html, make sure that has a listing of all pages, using the filesystem as a guide for the hierarchy.


# Other Notes

Other notes for the project:
 - Jinja2 is a great choice for html templating. 
 - All javascript must be compatible with github pages, otherwise choose the best lightweight and beautiful framework
 - support for KaTeX and mermaid in markdown are nice to have, but only if they can be simply integrated into a static html site. 
 - Things like top_nav.yaml, banner.yaml, footer.yaml, etc. should include settings like what pages to include, behavior, visual options, etc.  If the page is icluded but blank, simply fill in with those settings you deem needed. 
 - All formatting should be in the css files.  Create new css as you need needed.
 - Blog formatting is: `YYYY/MM/Author-Name--Title-HTML-Friendly.md`, so the year/month can be determined from the subfolders, and the blogs author's name and title can found with a simple `blog_author, blog_title = filename_no_ext.replace('-',' ').split('  ')`.  This should be enough to generate an automatic header for blogs in the HTML, including the title, author, and year month.
 - If a blog's author's name appears in `/root/content/people/*.md` please link the blog's author's name to their people.html page. 
 - when dealing with images (or any linked content, like css, js, etc.) absolute path is preferable, but relative will work too.  Whatever is safer / will cause fewer issues. 
 - During file validation, please fast-fail on any invalid yaml files. 
 - Name the python process `sitegen` and can exponse things like:
    - build: generate all files as per above. `/root/pages/*` are always removed.
    - clean: remove any unused files from the `/root/content/` side.
    - init:  generate a full set of all files for a ficticious site. This gives the user a working "hello world" starting point, from which they can modify.
    - there is no 'serve' since this entire process is designed to be a static webpage builder. 
- Markdown can be CommonMark + GitHub extensions, unless that causes problems with the build.
- The people.html should auto-list people from content/people/*.md with cards/avatars.
- Please add HTML minification and cache-busting for CSS/JS
- In github pages, the landing page is the project root, meaning `/root/index.html`
- please also generate a sitemap.xml, robots.txt, and feed.xml for RSS.  The canonical "base_url" should be defined in the `/root/content/_global/global.yaml` config file. 
- If any yaml file is marked as `draft: true` in the root level, omit from processing.
- for SEO, use the content in the `/root/content/_global/global.yaml` file.

- Please generate all files, and return one completed .zip file.   